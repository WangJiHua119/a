<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>canvas</title>
	<style>
		body{
			background-color: #ccc;
		}
		#canvas {
			border: 1px solid red;
		}
		#block {
			display: inline-block;
			width:50px;
			height: 50px;
			vertical-align: top;
			background-color: black;
		}
	</style>
</head>
<body>
	<canvas id="canvas" width="400" height="400">你的浏览器不支持canvas</canvas>
	<span id="block"></span>
	<script>
		var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
		for(i=0; i<16; i++){
			for(j=0; j<16; j++){
				ctx.fillStyle = "rgb("+(255-16*i)+","+(255-16*j)+",0)";
				ctx.fillRect(i*25,j*25,25,25);
			}
		}
		var block = document.getElementById("block");
		canvas.onclick = function (e) {
			var e = e || window.event();
			var x = e.layerX;
			var y = e.layerY;
			var imgData = ctx.getImageData(x,y,1,1);
			var r = imgData.data[0];
			var g = imgData.data[1];
			var b = imgData.data[2];
			block.style.backgroundColor = "rgb("+r+","+g+","+b+")";
		}
	</script>
</body>
</html>